| RunID | Files touched | Tests added | Root Cause | Fix Summary |
|-------|---------------|-------------|------------|-------------|
| 18274745982 | CHANGELOG.md; tests/Feature/MessageVisibilityTest.php; TRACEABILITY.md | n/a (lint-only) | Pint failed because imports in MessageVisibilityTest lacked a blank line between class and function groups. | Inserted the required blank line between import groups and documented the lint fix. |
| 18219198113 | .github/workflows/ci.yml; CHANGELOG.md; config/database.php; pint.json; tests/Feature/DatabaseConfigTest.php; TRACEABILITY.md | tests/Feature/DatabaseConfigTest.php (2 tests) | Pint preset unsupported and database credentials mismatched with CI services, breaking lint and migrations. | Switched Pint to a supported preset, aligned CI MySQL/PostgreSQL secrets with Laravel config fallbacks, and added regression tests. |
| 18217747108 | package.json; tests/Unit/BuildConfigTest.php; CHANGELOG.md; TRACEABILITY.md | `tests/Unit/BuildConfigTest.php` (2 tests) | Node treated vite.config.js as CommonJS, so the ESM-only laravel-vite-plugin crashed the build. | Declared the project `type` as `module` and added tests guarding the ESM requirement. |
| local-php-artisan-test | .env.testing; phpunit.xml.dist; CHANGELOG.md; TRACEABILITY.md | Existing suite (`php artisan test`) | Missing `.env` forced the test runner to read MySQL secrets that are absent in CI. | Added a committed `.env.testing` profile and forced SQLite in PHPUnit to eliminate external dependencies. |
| 18252432946 | phpstan.neon; tests/Unit/StaticAnalysisConfigTest.php; CHANGELOG.md; TRACEABILITY.md | `tests/Unit/StaticAnalysisConfigTest.php` (2 tests) | Larastan v2 removed rules.neon, so PHPStan aborted when the config referenced a missing include. | Removed the obsolete include and added tests to ensure PHPStan includes map to real files. |
| E1-F5-I1 | app/Models/Message.php; app/Http/Controllers/Api/MessageController.php; app/Filament/Resources/MessageResource.php; config/logging.php; docs/OPENAPI.yaml | tests/Feature/MessageVisibilityTest.php (6 tests) | Messages lacked visibility separation, RBAC, and observability, so internal notes were indistinguishable from public replies. | Added author_role column, policies, API + Filament CRUD, structured logging, and OpenAPI/README docs for ticket message visibility. |
| E1-F8-I2 | app/Broadcasting/Events/TicketLifecycleBroadcast.php; app/Http/Controllers/Api/TicketController.php; app/Jobs/BroadcastTicketEventJob.php; app/Models/TicketEvent.php; tests/Feature/TicketLifecycleBroadcastTest.php; composer.json | tests/Feature/TicketLifecycleBroadcastTest.php (9 tests) | Ticket lifecycle events lacked tenant isolation, broadcast wiring, and API coverage. | Added lifecycle event model + job broadcasting stack, enforced tenant-aware guard on ticket routes, registered factories, and codified API/resource tests. |
| E1-F6-I1 | app/Filament/Resources/TicketRelationshipResource.php; app/Filament/Resources/TicketRelationshipResource/Pages; app/Http/Controllers/Api/TicketController.php; app/Http/Controllers/Api/TicketRelationshipController.php; app/Http/Requests/ApiFormRequest.php; app/Http/Requests/StoreTicketRelationshipRequest.php; app/Http/Requests/UpdateTicketRelationshipRequest.php; app/Http/Resources/TicketRelationshipResource.php; app/Http/Resources/TicketResource.php; app/Models/Ticket.php; app/Models/TicketRelationship.php; app/Policies/TicketRelationshipPolicy.php; app/Providers/AuthServiceProvider.php; app/Services/TicketRelationshipService.php; database/factories/TicketRelationshipFactory.php; database/migrations/2025_10_07_000000_create_ticket_relationships_table.php; database/seeders/DemoDataSeeder.php; docs/OPENAPI.yaml; README.md; CHANGELOG.md; routes/api.php; tests/Feature/TicketRelationshipTest.php | tests/Feature/TicketRelationshipTest.php (7 tests) | /api/v1/tickets/{ticket}/relationships (GET, POST); /api/v1/tickets/{ticket}/relationships/{relationship} (GET, PATCH, DELETE) | 2025_10_07_000000_create_ticket_relationships_table.php | Implemented ticket relationship metadata with RBAC, audit logging, Filament UI, and observability plus OpenAPI/README updates. |
